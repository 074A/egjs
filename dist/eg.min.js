/*! egjs - v0.0.1
* Copyright (c) 2015 ; Licensed LGPL v2 */
"use strict";Array.prototype.forEach||(Array.prototype.forEach=function(a,b){var c,d;if(null==this)throw new TypeError(" this is null or not defined");var e=Object(this),f=e.length>>>0;if("function"!=typeof a)throw new TypeError(a+" is not a function");for(arguments.length>1&&(c=b),d=0;f>d;){var g;d in e&&(g=e[d],a.call(c,g,d,e)),d++}}),Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)}),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),Object.keys||(Object.keys=function(){var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var f,g,h=[];for(f in e)a.call(e,f)&&h.push(f);if(b)for(g=0;d>g;g++)a.call(e,c[g])&&h.push(c[g]);return h}}());var raf=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,caf=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame;if(raf&&!caf){var keyInfo={},oldraf=raf;raf=function(a){function b(){keyInfo[c]&&a()}var c=oldraf(b);return keyInfo[c]=!0,c},caf=function(a){delete keyInfo[a]}}else raf&&caf||(raf=function(a){return window.setTimeout(a,16)},caf=window.clearTimeout);window.requestAnimationFrame=raf,window.cancelAnimationFrame=caf,function(a){a.eg={},a.eg.module=function(b,c,d){d.apply(a,c)}}(window),eg.module("animate",[jQuery,window],function(a,b){function c(a,b,c,e){if(/matrix|none/.test(a))return a;for(var g,j,k=[],l=a.match(/\w+\([^)]+\)/g),m=0;j=l[m];m++)k.push(d(i(j),b,c,e));g=h(k);for(var n in e)e.hasOwnProperty(n)&&"undefined"==typeof g[n]&&(g[n]=e[n]);return g=f(g)}function d(a,b,c,d){b=b||0,c=c||0;var e,f=a[0],g=[],h={};if((e=f.match(/(rotate|translate|scale)([XYZ]|3d)?/))&&e.length>1){switch(e[1]){case"translate":case"scale":if(/[XYZ]/.test(e[2])){if(-1!==e[1].indexOf("translate"))switch(e[2]){case"X":h.size=b;break;case"Y":h.size=c;break;case"Z":h.size=0}d&&(h.baseVal=d[f]||0),g.push(h)}else-1!==e[1].indexOf("scale")&&(b=c=0),g=[{size:b},{size:c},{size:0}],d&&(g[0].baseVal=d[e[1]+"X"]||0,g[1].baseVal=d[e[1]+"Y"]||0,g[2].baseVal=d[e[1]+"Z"]||0);break;case"rotate":!e[2]&&d&&(h.baseVal=d[f]||0),g.push(h)}a[1]=a[1].map(function(a,b){return j(a,g[b])})}return a}function e(b,d,e){var g=a(b),h=-1!==d.indexOf("%")||-1!==e.indexOf("%"),i=h?g.width():0,j=h?g.height():0,n=m(l(g.css("transform"))),o=l(d),p=l(c(e,i,j,n));return(/3d|Z/.test(d+e)||o[0]!==p[0])&&(o=k(o),p=k(p)),function(a){if(1===a)return f(p);for(var b,c,d=[],e=0,g=o[1].length;g>e;e++)b=parseFloat(o[1][e]),c=parseFloat(p[1][e]),d.push(b+(c-b)*a);return f([o[0],d])}}function f(a){var b,c=[];if(Array.isArray(a))return b=a[0],b+"("+a[1].join(g(b)+",")+g(b)+")";for(b in a)a.hasOwnProperty(b)&&c.push(b);return c=c.sort(function(a,b){return a>b?-1:b>a?1:0}),c.map(function(b){return b+"("+a[b]+g(b)+")"}).join(" ")}function g(a){return-1!==a.indexOf("translate")?"px":-1!==a.indexOf("rotate")?"deg":""}function h(a){for(var b,c,d,e={},f=0;b=a[f];f++)switch(d=b[1],c=b[0]){case"translate3d":case"scale3d":c=c.replace(/3d$/,""),e[c+"Z"]=d[2];case"translate":case"scale":e[c+"X"]=d[0],"undefined"!=typeof d[1]?e[c+"Y"]=d[1]:"scale"===c&&(e[c+"Y"]=d[0]);break;case"rotate":e[c]=d[0];break;default:e[c]=+d.join("")}return e}function i(a){var b,c,d=a.match(/(\b\w+?)\((\s*[^\)]+)/),e=["",""];return d&&d.length>2&&(b=d[1],c=d[2].split(","),c=c.map(function(a){return a.trim()}),e=[b.trim(),c]),e}function j(b,c){var d=0,e=b.replace(/px|deg/,""),f={baseVal:0,size:0};return a.extend(f,c),d=/\+=/.test(e)?1:/\-=/.test(e)?-1:d,0!==d&&(e=e.substring(2)),e=/%$/.test(e)?parseFloat(e)/100*f.size:parseFloat(e),f.baseVal=parseFloat(f.baseVal),e=d>0?f.baseVal+e:0>d?f.baseVal-e:e}function k(a){var b=a[0],c=a[1];return"matrix3d"===b?a:[b+"3d",[c[0],c[1],"0","0",c[2],c[3],"0","0","0","0","1","0",c[4],c[5],"0","1"]]}function l(a){return"none"===a?["matrix",["1","0","0","1","0","0"]]:-1!==a.indexOf("matrix")?i(a):n?i(new n(a).toString()):a}function m(a){if("none"===a)return null;var b,c,d,e=a[1],f=parseFloat(e[0]),g=parseFloat(e[1]),h=parseFloat(e[2]),i=parseFloat(e[3]);return-1!==a[0].indexOf("matrix3d")?(b=Math.sqrt(f*f+g*g+h*h),c=Math.sqrt(e[4]*e[4]+e[5]*e[5]+e[6]*e[6]),d=Math.sqrt(e[8]*e[8]+e[9]*e[9]+e[10]*e[10]),{translateX:parseFloat(e[12]),translateY:parseFloat(e[13]),translateZ:parseFloat(e[14]),rotate:parseFloat((Math.atan2(g,f)*o).toFixed(10)),scaleX:parseFloat(b.toFixed(10)),scaleY:parseFloat(c.toFixed(10)),scaleZ:parseFloat(d.toFixed(10))}):(b=Math.sqrt(f*f+g*g),f/=b,g/=b,d=f*h+g*i,h-=f*d,i-=g*d,c=Math.sqrt(h*h+i*i),h/=c,i/=c,d/=c,g*h>f*i&&(f=-f,g=-g,b=-b),{rotate:parseFloat((Math.atan2(g,f)*o).toFixed(10)),scaleX:parseFloat(b.toFixed(10)),scaleY:parseFloat(c.toFixed(10)),translateX:parseFloat(e[4]),translateY:parseFloat(e[5])})}var n=b.WebKitCSSMatrix||b.MSCSSMatrix||b.OCSSMatrix||b.MozCSSMatrix||b.CSSMatrix,o=180/Math.PI;return a.fx.step.transform=function(b){var c=b.elem;b.$el=b.$el||a(c),b._rateFn=b._rateFn||e(c,b.start,b.end),b.$el.css("transform",b._rateFn(b.pos))},{parse:c,parseStyle:i,computeValue:j,rateFn:e,toMatrix:l,unMatrix:m,toMatrix3d:k}}),eg.module("cssPrefix",[jQuery,document],function(a,b){if(!a.cssHooks)throw new Error("jQuery 1.4.3+ is needed for this plugin to work");if(!(a.fn&&a.fn.jquery&&a.fn.jquery.replace(/[.]/,"")>="18")){for(var c=["Webkit","Moz","O","ms"],d=["transitionProperty","transitionDuration","transition","transform","transitionTimingFunction"],e=(function(){for(var a=b.body.style,d=0,e=c.length;e>d;d++)if(c[d]+"Transition"in a)return c[d]}()),f=function(b){var c=b.charAt(0).toUpperCase()+b.slice(1),d=e+c;a.cssHooks[c]=a.cssHooks[e.toLowerCase()+c]=a.cssHooks[b]={get:function(b){return a.css(b,d)},set:function(a,b){a.style[d]=b}}},g=0,h=d.length;h>g;g++)f(d[g]);return{vendorPrefix:e,setCssHooks:f}}}),eg.module("eg",[jQuery,eg,window],function(a,b,c){var d,e={VERSION:"0.0.1",hook:{},agent:function(a){d=a||navigator.userAgent;var b=/(iPhone |iPad )?OS ([\d|_]+)/.exec(d)||/(Android) ([\w.]+)/.exec(d)||/(Windows NT) ([\d|\.]+)/.exec(d)||/(Windows Phone) ([\d|\.]+)/.exec(d)||/(Windows) ([\w|\.]+)/.exec(d)||/(Mac OS X)( ([\w.]+))?/.exec(d)||[],c=/(Chrome|CriOS|Firefox)[\s\/]([\w.]+)/.exec(d)||/(MSIE|Trident)[\/\s]([\d.]+)/.exec(d)||/(PhantomJS)\/([\d.]+)/.exec(d)||[],e=/(NAVER|Daum)/.exec(d)||[];b.length>=3&&(/iPhone|iPad/.test(d)?b[1]="ios":-1!==d.indexOf("Win")?(b[1]="window",b[2]="2000"===b[2]?"5.0":b[2]):b[1]=-1!==d.indexOf("Mac")?"mac":b[1].toLowerCase(),b[2]=(b[2]||"").replace(/\_/g,".").replace(/\s/g,"")),c.length>=3?c[1]=/Chrome|CriOS/.test(d)?-1!==d.indexOf("SAMSUNG")?"sbrowser":"chrome":/MSIE|Trident/.test(d)?"ie":c[1].toLowerCase():0===c.length&&b[1]&&"android"!==b[1]&&(c=/(Safari)\/([\w.]+)/.exec(d)||("ios"===b[1]?["","safari"]:["",""]),c[1]=c[1].toLowerCase(),c[0]&&-1!==c[1].indexOf("safari")&&(c[2]=-1!==d.indexOf("Apple")?d.match(/Version\/([\d.]+)/)[1]||null:null));var f={os:{name:b[1]||"",version:b[2]||"-1"},browser:{name:c[1]||"default",version:c[2]||"-1",webview:e.length>0}};return f=this.hook.agent?this.hook.agent(f):f,this.agent=function(){return f},f},translate:function(a,b,c){return c=c||!1,"translate"+(c?"3d(":"(")+a+","+b+(c?",0)":")")},isHWAccelerable:function(){var a,b=!1,c=this.agent(),e=c.os.version,f=c.browser.name,g=c.browser.version;return-1!==f.indexOf("chrome")?b=g>="25":/ie|firefox|safari|inapp/.test(f)?b=!0:-1!==c.os.name.indexOf("android")&&(a=(d.match(/\(.*\)/)||[null])[0],b=e>="4.1.0"&&!/EK-GN120|SM-G386F/.test(a)||e>="4.0.3"&&/SHW-|SHV-|GT-|SCH-|SGH-|SPH-|LG-F160|LG-F100|LG-F180|LG-F200|EK-|IM-A|LG-F240|LG-F260/.test(a)&&!/SHW-M420|SHW-M200|GT-S7562/.test(a)),b=this.hook.isHWAccelerable?this.hook.isHWAccelerable(b,c):b,this.isHWAccelerable=function(){return b},b},isTransitional:function(){var a=!1,b=this.agent(),c=b.browser.name;if(/chrome|firefox/.test(c))a=!0;else switch(b.os.name){case"ios":a=/safari|inapp/.test(c)&&parseInt(b.os.version,10)<6;break;case"window":a=-1!==c.indexOf("safari")||-1!==c.indexOf("ie")&&parseInt(b.browser.nativeVersion,10)>=10;break;default:a=/chrome|firefox|safari/.test(c)}return a=this.hook.isTransitional?this.hook.isTransitional(a,b):a,this.isTransitional=function(){return a},a},_hasClickBug:function(){var a=this.agent(),b="ios"===a.os.name;return b=this.hook._hasClickBug?this.hook._hasClickBug(b,a):b,this._hasClickBug=function(){return b},b}};for(var f in e)e.hasOwnProperty(f)&&(b[f]=e[f]);c.eg.DIRECTION_NONE=1,c.eg.DIRECTION_LEFT=2,c.eg.DIRECTION_RIGHT=4,c.eg.DIRECTION_UP=8,c.eg.DIRECTION_DOWN=16,c.eg.DIRECTION_HORIZONTAL=c.eg.DIRECTION_LEFT|c.eg.DIRECTION_RIGHT,c.eg.DIRECTION_VERTICAL=c.eg.DIRECTION_UP|c.eg.DIRECTION_DOWN,c.eg.DIRECTION_ALL=c.eg.DIRECTION_HORIZONTAL|c.eg.DIRECTION_VERTICAL}),eg.module("persist",[jQuery,window,document],function(a,b,c){function d(c){e(c.originalEvent)?g():f()&&i.state?a(b).trigger("persist"):g()}function e(a){return!!a.persisted}function f(){var a=b.performance;return!(a&&a.navigation&&(a.navigation.type===a.navigation.TYPE_NAVIGATE||a.navigation.type===a.navigation.TYPE_RELOAD))}function g(){k&&i.replaceState(null,c.title,j.href)}function h(b){return null===b?null:a.extend(!0,{},b)}var i=b.history,j=b.location,k="replaceState"in i;return a.persist=function(a){return k&&a&&i.replaceState(a,c.title,j.href),h(i.state)},a.event.special.persist={setup:function(){a(b).on("pageshow",d)},teardown:function(){a(b).off("pageshow",d)},trigger:function(a){a.state=h(i.state)}},{isPersisted:e,isBackForwardNavigated:f,onPageshow:d,reset:g,clone:h,persist:a.persist}}),eg.module("rotate",[jQuery,eg,window,document],function(a,b,c,d){function e(){var a,b,e,f=m();return"resize"===f?(a=d.documentElement.clientWidth,e=-1===h?a<d.documentElement.clientHeight:h>a?!0:a===h?i:!1,h=a):(b=c.orientation,0===b||180===b?e=!0:(90===b||-90===b)&&(e=!1)),e}function f(){var b=e();l&&i!==b&&(i=b,a(c).trigger("rotate"))}function g(a){var b,e,i=m();if("resize"===i)c.setTimeout(function(){f()},0);else{if(b=300,"android"===k.os.name){if(e=d.documentElement.clientWidth,"orientationchange"===a.type&&e===h)return c.setTimeout(function(){g(a)},500),!1;h=e}c.clearTimeout(j),j=c.setTimeout(function(){f()},b)}}var h=-1,i=null,j=null,k=b.agent(),l=/android|ios/.test(k.os.name),m=function(){var a;return a="android"===k.os.name&&"2.1"===k.os.version?"resize":"onorientationchange"in c?"orientationchange":"resize",m=function(){return a},a};return a.event.special.rotate={setup:function(){h=d.documentElement.clientWidth,a(c).on(m(),g)},teardown:function(){a(c).off(m(),g)},trigger:function(a){a.isVertical=i}},{orientationChange:m,isVertical:e,triggerRotate:f,handler:g}}),eg.module("scrollEnd",[jQuery,eg,window,document],function(a,b,c,d){function e(){var a=A,c=b.agent(),d=c.os,e=c.browser,f=parseInt(d.version,10);return"android"===d.name?a="chrome"===e.name?x:f>=3?y:z:/^(?:window|ios)$/.test(d.name)&&f>=8&&(a=y),a}function f(){var b=a(c).on("scroll",j);B===z&&a(d).on({touchstart:g,touchmove:h,touchend:i}),B===x&&b.on("orientationchange",function(){w=!0})}function g(){q=!0,r=!1,u=v=0}function h(){r=!0}function i(){q=!1,r&&k()}function j(){switch(B){case A:n();break;case z:k();break;case y:o();break;case x:w?w=!1:n()}}function k(){l(),s=setInterval(m,100)}function l(){s&&clearInterval(s),s=null}function m(){q||u!==c.pageYOffset||v!==c.pageXOffset?(u=c.pageYOffset,v=c.pageXOffset):(l(),n())}function n(){a(c).trigger("scrollend",{top:c.pageYOffset,left:c.pageXOffset})}function o(){clearTimeout(t),t=setTimeout(function(){n()},350)}function p(){a(d).off({touchstart:g,touchmove:h,touchend:i}),a(c).off("scroll",j)}var q,r,s,t,u=0,v=0,w=!1,x=3,y=2,z=1,A=0,B=e();return a.event.special.scrollend={setup:function(){f()},teardown:function(){p()}},{getDeviceType:e,CHROME:x,TIMERBASE:y,TOUCHBASE:z,SCROLLBASE:A}}),eg.module("class",[eg],function(a){a.Class=function(a){var b=function(){"function"==typeof a.construct&&a.construct.apply(this,arguments)};return b.prototype=a,b.prototype.constructor=b,b},a.Class.extend=function(a,b){var c=function(){a.apply(this,arguments),"function"==typeof b.construct&&b.construct.apply(this,arguments)},d=function(){};d.prototype=a.prototype;var e=new d;for(var f in b)b.hasOwnProperty(f)&&(e[f]=b[f]);return e.constructor=c,c.prototype=e,c}}),eg.module("component",[eg],function(a){a.Component=a.Class({construct:function(){this.eventHandler={}},trigger:function(a,b){b=b||{};var c=this.eventHandler[a]||[],d=c.length>0;if(!d)return!0;c=c.concat(),b.eventType=a;var e=!1;b.stop=function(){e=!0};var f,g,h=[b];(g=arguments.length)>2&&(h=h.concat(Array.prototype.slice.call(arguments,2,g)));var i;for(f=0;i=c[f];f++)i.apply(this,h);return!e},hasOn:function(a){return!!this.eventHandler[a]},on:function(a,b){if("undefined"==typeof b){var c,d=a;for(c in d)this.on(c,d[c]);return this}var e=this.eventHandler[a];return"undefined"==typeof e&&(e=this.eventHandler[a]=[]),e.push(b),this},off:function(a,b){if(0===arguments.length)return this.eventHandler={},this;if("undefined"==typeof b){if("string"==typeof a)return this.eventHandler[a]=null,this;var c=a;for(var d in c)c.hasOwnProperty(d)&&this.off(d,c[d]);return this}var e=this.eventHandler[a];if(e)for(var f,g=0;f=e[g];g++)if(f===b){e=e.splice(g,1);break}return this}})}),eg.module("movableCoord",[jQuery,eg],function(a,b){b.MovableCoord=b.Class.extend(b.Component,{construct:function(b){this.options={min:[0,0],max:[100,100],bounce:[10,10,10,10],margin:[0,0,0,0],circular:[!1,!1,!1,!1],easing:a.easing.easeOutQuint,deceleration:6e-4},this._reviseOptions(b),this._status={grabOutside:!1,curHammer:null,moveDistance:null,animating:null},this._hammers={},this._pos=[this.options.min[0],this.options.min[1]],this._subOptions={},this._raf=null,this._animationEnd=this._animationEnd.bind(this)},bind:function(c,d){var e=a(c),f=e.data(b.MovableCoord.KEY),g={direction:b.DIRECTION_ALL,scale:[1,1],maximumSpeed:1/0};return a.extend(g,d),f?this._hammers[f].get("pan").set({direction:g.direction}):(f=Math.round(Math.random()*(new Date).getTime()),this._hammers[f]=this._createHammer(e.get(0),g),e.data(b.MovableCoord.KEY,f)),this},_createHammer:function(a,b){var c=new Hammer.Manager(a,{recognizers:[[Hammer.Pan,{direction:b.direction,threshold:0}]]});return c.on("hammer.input",function(a){a.isFirst&&(this._subOptions=b,this._status.curHammer=c,this._panstart(a))}.bind(this)).on("panstart panmove",this._panmove.bind(this)).on("panend",this._panend.bind(this)),c},unbind:function(c){var d=a(c),e=d.data(b.MovableCoord.KEY);e&&(this._hammers[e].destroy(),delete this._hammers[e],d.data(b.MovableCoord.KEY,null))},_grab:function(){this._status.animating&&(this._pos=this._getCircularPos(this._pos),this._triggerChange(this._pos,!0),this._status.animating=null,this._raf&&cancelAnimationFrame(this._raf),this._raf=null)},_getCircularPos:function(a,b,c,d){return b=b||this.options.min,c=c||this.options.max,d=d||this.options.circular,d[0]&&a[1]<b[1]&&(a[1]=(a[1]-b[1])%(c[1]-b[1]+1)+c[1]),d[1]&&a[0]>c[0]&&(a[0]=(a[0]-b[0])%(c[0]-b[0]+1)+b[0]),d[2]&&a[1]>c[1]&&(a[1]=(a[1]-b[1])%(c[1]-b[1]+1)+b[1]),d[3]&&a[0]<b[0]&&(a[0]=(a[0]-b[0])%(c[0]-b[0]+1)+c[0]),a},_isOutside:function(a,b,c){return a[0]<b[0]||a[1]<b[1]||a[0]>c[0]||a[1]>c[1]},_isOutToOut:function(a,b,c,d){return(a[0]<c[0]||a[0]>d[0]||a[1]<c[1]||a[1]>d[1])&&(b[0]<c[0]||b[0]>d[0]||b[1]<c[1]||b[1]>d[1])},_panstart:function(a){var b=this._pos;this._grab(),this.trigger("hold",{pos:[b[0],b[1]],hammerEvent:a}),this._status.moveDistance=[b[0],b[1]],this._status.grabOutside=this._isOutside(b,this.options.min,this.options.max)},_panmove:function(a){var c,d,e,f=this._pos,g=this.options.min,h=this.options.max,i=this.options.bounce,j=this.options.margin,k=this.options.easing,l=this._subOptions.direction,m=this._subOptions.scale,n=[j[0]+i[0],j[1]+i[1],j[2]+i[2],j[3]+i[3]],o=!1,p=this._status.curHammer.session.prevInput||{};if(p?(a.offsetX=a.deltaX-p.deltaX,a.offsetY=a.deltaY-p.deltaY):a.offsetX=a.offsetY=0,a.offsetDirection&b.DIRECTION_HORIZONTAL&&l&b.DIRECTION_HORIZONTAL&&(this._status.moveDistance[0]+=a.offsetX*m[0],o=!0),a.offsetDirection&b.DIRECTION_VERTICAL&&l&b.DIRECTION_VERTICAL&&(this._status.moveDistance[1]+=a.offsetY*m[1],o=!0),o&&(a.srcEvent.preventDefault(),a.srcEvent.stopPropagation()),a.preventSystemEvent=o,f[0]=this._status.moveDistance[0],f[1]=this._status.moveDistance[1],f=this._getCircularPos(f,g,h),this._status.grabOutside&&!this._isOutside(f,g,h)&&(this._status.grabOutside=!1),this._status.grabOutside)d=g[0]-n[3],e=h[0]+n[1],c=f[0],f[0]=c>e?e:d>c?d:c,d=g[1]-n[0],e=h[1]+n[2],c=f[1],f[1]=c>e?e:d>c?d:c;else{var q=this._isInEasing?k(null,.9999,0,1,1)/.9999:k(null,1e-4,0,1,1)/1e-4;f[1]<g[1]?(c=(g[1]-f[1])/(n[0]*q),f[1]=g[1]-k(null,c>1?1:c,0,1,1)*n[0]):f[1]>h[1]&&(c=(f[1]-h[1])/(n[2]*q),f[1]=h[1]+k(null,c>1?1:c,0,1,1)*n[2]),f[0]<g[0]?(c=(g[0]-f[0])/(n[3]*q),f[0]=g[0]-k(null,c>1?1:c,0,1,1)*n[3]):f[0]>h[0]&&(c=(f[0]-h[0])/(n[1]*q),f[0]=h[0]+k(null,c>1?1:c,0,1,1)*n[1])}this._triggerChange(f,!0,a)},_panend:function(a){if(this._status.moveDistance){var c=this._subOptions.direction,d=this._subOptions.scale,e=Math.abs(a.velocityX),f=Math.abs(a.velocityY);!(c&b.DIRECTION_HORIZONTAL)&&(e=0),!(c&b.DIRECTION_VERTICAL)&&(f=0),this._animateBy(this._getNextOffsetPos([e*(a.deltaX<0?-1:1)*d[0],f*(a.deltaY<0?-1:1)*d[1]],this._subOptions.maximumSpeed),this._animationEnd,!1,null,a),this._status.moveDistance=null}},_animationEnd:function(){var a=this._pos,b=this.options.min,c=this.options.max;this._animateTo([Math.min(c[0],Math.max(b[0],a[0])),Math.min(c[1],Math.max(b[1],a[1]))],this.trigger.bind(this,"animationEnd"),!0)},_getNextOffsetPos:function(a,b){var c=Math.min(b||1/0,Math.sqrt(a[0]*a[0]+a[1]*a[1])),d=Math.abs(c/-this.options.deceleration);return[a[0]/2*d,a[1]/2*d]},_getDurationFromPos:function(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]),c=Math.sqrt(b/this.options.deceleration*2);return 100>c?0:c},_animateBy:function(a,b,c,d,e){var f=this._pos;return this._animateTo([f[0]+a[0],f[1]+a[1]],b,c,d,e)},_getPointOfIntersection:function(a,b){var c,d,e=this.options.circular,f=this.options.bounce,g=this.options.min,h=this.options.max,i=[g[0]-f[3],g[1]-f[0]],j=[h[0]+f[1],h[1]+f[2]];return b=[b[0],b[1]],c=b[0]-a[0],d=b[1]-a[1],e[3]||(b[0]=Math.max(i[0],b[0])),e[1]||(b[0]=Math.min(j[0],b[0])),b[1]=c?a[1]+d/c*(b[0]-a[0]):b[1],e[0]||(b[1]=Math.max(i[1],b[1])),e[2]||(b[1]=Math.min(j[1],b[1])),b[0]=d?a[0]+c/d*(b[1]-a[1]):b[0],b},_isCircular:function(a,b,c,d){return a[0]&&b[1]<c[1]||a[1]&&b[0]>d[0]||a[2]&&b[1]>d[1]||a[3]&&b[0]<c[0]},_animateTo:function(a,b,c,d,e){var f=this._pos,g=this._getPointOfIntersection(f,a),h={depaPos:[f[0],f[1]],destPos:g,bounce:c,hammerEvent:e||{}};c||this.trigger("release",h),this._afterReleaseProcess(h,b,c,d)},_afterReleaseProcess:function(a,b,c,d){var e=this._pos,f=this.options.min,g=this.options.max,h=this.options.circular,i=a.destPos,j=this._isCircular(h,i,f,g);this._isOutToOut(e,i,f,g)&&(i=e),d=d||Math.min(1/0,this._getDurationFromPos([Math.abs(i[0]-e[0]),Math.abs(i[1]-e[1])]));var k=function(){this._status.animating=null,e[0]=Math.round(i[0]),e[1]=Math.round(i[1]),e=this._getCircularPos(e,f,g,h),b&&b()}.bind(this);if(!d)return k();a={duration:d,depaPos:[e[0],e[1]],destPos:i,isBounce:c,isCircular:j,done:k};var l=this.trigger("animation",a);if(j&&!l)throw new Error("You can't stop the 'animation' event when 'circular' is true.");if(a.depaPos=e,a.startTime=(new Date).getTime(),this._status.animating=a,l){var m=this._status.animating,n=this;!function o(){return n._raf=null,n._frame(m)>=1?k():void(n._raf=requestAnimationFrame(o))}()}},_frame:function(a){for(var b=new Date-a.startTime,c=Math.min(1,b/a.duration),d=this.options.easing(null,b,0,1,a.duration),e=[a.depaPos[0],a.depaPos[1]],f=0;2>f;f++)e[f]!==a.destPos[f]&&(e[f]+=(a.destPos[f]-e[f])*d);return e=this._getCircularPos(e),this._triggerChange(e,!1),c},_reviseOptions:function(b){var c;["bounce","margin","circular"].forEach(function(a){c=b[a],null!=c&&(b[a]=Array.isArray(c)?2===c.length?[c[0],c[1],c[0],c[1]]:[c[0],c[1],c[2],c[3]]:/string|number|boolean/.test(typeof c)?[c,c,c,c]:null)}),a.extend(this.options,b)},_triggerChange:function(a,b,c){this.trigger("change",{pos:[a[0],a[1]],holding:b,hammerEvent:c||{}})},get:function(){return[this._pos[0],this._pos[1]]},setTo:function(a,b,c){this._grab();var d=[this._pos[0],this._pos[1]],e=this.options.circular,f=this.options.min,g=this.options.max;return a===d[0]&&b===d[1]?this:(a!==d[0]&&(e[3]||(a=Math.max(f[0],a)),e[1]||(a=Math.min(g[0],a))),b!==d[1]&&(e[0]||(b=Math.max(f[1],b)),e[2]||(b=Math.min(g[1],b))),c?this._animateTo([a,b],this._animationEnd,!1,c):(this._pos=this._getCircularPos([a,b]),this._triggerChange(this._pos,!1)),this)},setBy:function(a,b,c){return this.setTo(null!=a?this._pos[0]+a:this._pos[0],null!=b?this._pos[1]+b:this._pos[1],c)},_isInEasing:function(b){for(var c in a.easing)if(a.easing[c]===b)return!~c.indexOf("Out");return!1},destroy:function(){this.off();for(var a in this._hammers)this._hammers.hasOwnProperty(a)&&(this._hammers[a].destroy(),this._hammers[a]=null)}}),b.MovableCoord.KEY="__MOVABLECOORD__"}),eg.module("flicking",[jQuery,eg,eg.MovableCoord],function(a,b,c){b.Flicking=b.Class.extend(b.Component,{construct:function(c,d){this._wrapper=a(c),a.extend(this.options={effect:a.easing.linear,hwAccelerable:b.isHWAccelerable(),prefix:"eg-flick",deceleration:6e-4,horizontal:!0,circular:!1,previewPadding:[0,0],threshold:40,duration:100,panelEffect:a.easing.easeOutQuint,defaultIndex:0},d);var e=this.options.previewPadding,f=window.CSS&&window.CSS.supports&&window.CSS.supports("will-change","transform");"number"==typeof e?e=this.options.previewPadding=[e,e]:e.constructor!==Array&&(e=this.options.previewPadding=[0,0]),this._conf={panel:{list:[],index:0,no:0,size:0,count:0,origCount:0,changed:!1,animating:!1,minCount:e[0]+e[1]>0?5:3},touch:{holdPos:[0,0],destPos:[0,0],distance:0,direction:null},customEvent:{},clickBug:b._hasClickBug(),useLayerHack:this.options.hwAccelerable&&!f,useHint:this.options.hwAccelerable&&f,dirData:[]},[["RIGHT","LEFT"],["DOWN","UP"]][+!this.options.horizontal].forEach(function(a){this._conf.dirData.push(b["DIRECTION_"+a])},this),this._build(),this._bindEvents(),this._arrangePanels()},_build:function(){var a,d=this._conf.panel,e=this.options,f=d.list=this._wrapper.children(),g=e.previewPadding.concat(),h=e.prefix,i=e.horizontal,j=d.count=d.origCount=f.length,k=[d.size=this._wrapper[i?"width":"height"]()-(g[0]+g[1]),"100%"];this._wrapper.css({padding:(i?"0 "+g.reverse().join("px 0 "):g.join("px 0 "))+"px",overflow:"hidden"}),this._getDataByDirection(k),f.addClass(h+"-panel").css({position:"absolute",width:k[0],height:k[1],top:0,left:0}),k[a=+!i]*=j,k[a]+="px",a="width:"+k[0]+";height:"+k[1]+(i?";":";top:"+g[0]+"px;"),this._container=f.wrapAll("<div class='"+h+"-container' style='position:relative;"+a+"' />").parent(),this._addClonePanels()&&(j=d.count=(d.list=this._container.children()).length),this._mcInst=new c({min:[0,0],max:this._getDataByDirection([d.size*(j-1),0]),margin:0,circular:!1,easing:e.panelEffect,deceleration:e.deceleration}).bind(this._wrapper,{scale:this._getDataByDirection([-1,0]),direction:b["DIRECTION_"+(i?"HORIZONTAL":"VERTICAL")],maximumSpeed:e.duration}),this._setDefaultPanel(e.defaultIndex)},_addClonePanels:function(){var a,b=this._conf.panel,c=b.origCount,d=b.minCount-c,e=b.list;if(this.options.circular&&c<b.minCount){for(a=e.clone();a.length<d;)a=a.add(e.clone());return this._container.append(a)}},_movePanelPosition:function(b,c){var d,e=this._conf.panel,f=e.list;d=f.splice(c?0:e.count-b,b),this._conf.panel.list=a(c?a.merge(f,d):a.merge(d,f))},_setDefaultPanel:function(a){var b,c=this._conf.panel,d=c.count-1;this.options.circular?(a>0&&d>=a&&this._movePanelPosition(a,!0),this._movePanelPosition(this._getBasePositionIndex(),!1),c.no=a):a>0&&d>=a&&(c.index=a,b=[-(c.size*a),0],this._setTranslate(b),this._mcInst.setTo(Math.abs(b[0]),Math.abs(b[1])))},_arrangePanels:function(c,d){var e,f=this._conf.panel,g=this._conf.touch,h=this._conf.dirData,i=this._conf.useLayerHack;this.options.circular&&(c&&("undefined"!=typeof d&&(g.direction=h[+!Boolean(d>0)]),this._arrangePanelPosition(g.direction,d)),f.index=this._getBasePositionIndex(),e=this._getDataByDirection([f.size*f.index,0]),this._mcInst.setTo(e[0],e[1])),f.list.each(function(c,d){e=this._getDataByDirection([100*c+"%",0]),a(d).css("transform",b.translate(e[0],e[1],i))}.bind(this))},_setHint:function(a){if(this._conf.useHint){var b=a?"transform":"";this._container.css("willChange",b),this._conf.panel.list.css("willChange",b)}},_getDataByDirection:function(a){return!this.options.horizontal&&a.reverse(),a},_arrangePanelPosition:function(a,b){var c=a===this._conf.dirData[0];this._movePanelPosition(Math.abs(b||1),c)},_getBasePositionIndex:function(){var a=this._conf.panel;return a.index=Math.floor(a.count/2-.1)},_bindEvents:function(){this._mcInst.on({hold:this._holdHandler.bind(this),change:this._changeHandler.bind(this),release:this._releaseHandler.bind(this),animation:this._animationHandler.bind(this),animationEnd:this._animationEndHandler.bind(this)})},_holdHandler:function(a){this._conf.touch.holdPos=a.pos,this._conf.panel.changed=!1,this._setHint(!0),this._triggerEvent("touchStart",{pos:a.pos})},_changeHandler:function(a){var b=a.pos;this._setPointerEvents(a),this._triggerEvent(a.holding?"touchMove":"flick",{pos:a.pos})&&this._setTranslate([-b[+!this.options.horizontal],0])},_releaseHandler:function(a){var b=this._conf.touch,c=a.destPos,d=+!this.options.horizontal,e=b.holdPos[d],f=this._conf.panel.size;b.distance=a.depaPos[d]-b.holdPos[d],b.direction=this._conf.dirData[+!Boolean(b.holdPos[d]<a.depaPos[d])],c[d]=Math.max(e-f,Math.min(e+f,c[d])),b.destPos[d]=c[d]=Math.round(c[d]/f)*f,this._triggerEvent("touchEnd",{depaPos:a.depaPos,destPos:a.destPos}),this._setPointerEvents()},_animationHandler:function(a){var b=this._conf.panel,c=this._conf.touch.direction,d=this._conf.dirData;b.animating=!0,a.duration=this.options.duration,this._isMovable()?(this._triggerEvent("flickStart",{depaPos:a.depaPos,destPos:a.destPos}),b.index+=c===d[0]?1:-1,a.destPos[+!this.options.horizontal]=b.size*b.index,this._setPanelNo(!0),b.changed=!0):(this._conf.customEvent.restore=this._triggerEvent("beforeRestore",{depaPos:a.depaPos,destPos:a.destPos}))||a.stop()},_animationEndHandler:function(){var a=this._conf.panel;this._setTranslate([-a.size*a.index,0]),this.options.circular&&a.changed&&(this._arrangePanels(!0),this._setPanelNo()),this._setHint(a.animating=!1),a.changed?this._triggerEvent("flickEnd"):this._conf.customEvent.restore&&this._triggerEvent("restore")},_setPanelNo:function(a){var b=this._conf.panel,c=b.origCount-1,d=this._conf.touch.direction,e=this._conf.dirData;a&&(b.no+=d===e[0]?1:-1),b.no>c?b.no=0:b.no<0&&(b.no=c)},_setPointerEvents:function(a){this._conf.clickBug&&this._container.css("pointerEvents",a&&a.holding&&a.hammerEvent.preventSystemEvent?"none":"auto")},_setTranslate:function(a){this._getDataByDirection(a),this._container.css("transform",b.translate(this._getUnitValue(a[0]),this._getUnitValue(a[1]),this._conf.useLayerHack))},_getUnitValue:function(a){var b=/(?:[a-z]{2,}|%)$/;return(parseInt(a,10)||0)+(String(a).match(b)||"px")},_isMovable:function(){return Math.abs(this._conf.touch.distance)>=this.options.threshold},_triggerEvent:function(b,c){var d=this._conf.panel;return this.trigger(b,c=a.extend({eventType:b,index:d.index,no:d.no,direction:this._conf.touch.direction},c))},_getElement:function(b,c,d){var e,f,g,h=this._conf.panel,i=this.options.circular,j=h.index,k=b===this._conf.dirData[0],l=null;return d?(e=h.count,f=j):(e=h.origCount,f=h.no),g=f,k?e-1>f?f++:i&&(f=0):f>0?f--:i&&(f=e-1),g!==f&&(l=c?a(h.list[k?j+1:j-1]):f),l},_movePanel:function(a,b){var c,d=this._conf.panel,e=a===this._conf.dirData[0],f=this[e?"getNextIndex":"getPrevIndex"]();null!=f&&(this._conf.touch.direction=a,this._setPanelNo(!0),d.index=f,c=this._getDataByDirection([d.size*(e?1:-1),0]),this._mcInst.setBy(c[0],c[1],b),this._arrangePanels(!0))},getIndex:function(a){return this._conf.panel[a?"index":"no"]},getElement:function(){var b=this._conf.panel;return a(b.list[b.index])},getNextElement:function(){return this._getElement(this._conf.dirData[0],!0)},getNextIndex:function(a){return this._getElement(this._conf.dirData[0],!1,a)},getAllElements:function(){return this._conf.panel.list},getPrevElement:function(){return this._getElement(this._conf.dirData[1],!0)},getPrevIndex:function(a){return this._getElement(this._conf.dirData[1],!1,a)},getTotalCount:function(a){return this._conf.panel[a?"count":"origCount"]},isPlaying:function(){return this._conf.panel.animating},next:function(a){this._movePanel(this._conf.dirData[0],a||this.options.duration)},prev:function(a){this._movePanel(this._conf.dirData[1],a||this.options.duration)},moveTo:function(a,b){var c,d,e=this._conf.panel,f=e.index,g=0;"number"!=typeof a||a>=e.origCount||a===e.no||(this.options.circular?(c=[f,e.count-(f+1)],a>e.no?(g=a-e.no,g>c[1]&&(g=-(c[0]+1-(g-c[1])))):(g=-(e.no-a),Math.abs(g)>c[0]&&(g=c[1]+1-(Math.abs(g)-c[0]))),e.no=a,this._arrangePanels(!0,g)):(e.index=a,d=this._getDataByDirection([e.size*g,0]),this._mcInst.setTo(d[0],d[1],b||this.options.duration)))},resize:function(){var a=this._conf.panel,b=a.size=this._wrapper.width(),c=[b*(a.count-1),0];this._container.width(c[0]),a.list.css("width",b),this._mcInst.setTo(b*a.index,0).options.max=c}})}),eg.module("visible",[jQuery,eg],function(a,b){b.Visible=b.Class.extend(b.Component,{construct:function(b){this.options={wrapper:document,targetClass:"check_visible",expandSize:0},a.extend(this.options,b),this._wrapper=a(this.options.wrapper),this._wrapper=this._wrapper.length>0?this._wrapper[0]:document,this._targets=[],this._timer=null,this._supportElementsByClassName=function(){var a,b=document.createElement("div");return b.getElementsByClassName?(a=b.getElementsByClassName("dummy"),b.innerHTML="<span class='dummy'></span>",1===a.length):!1}(),this.refresh()},refresh:function(){return this._supportElementsByClassName?(this._targets=this._wrapper.getElementsByClassName(this.options.targetClass),this.refresh=function(){return this}):this.refresh=function(){return this._targets=a(this._wrapper).find("."+this.options.targetClass).each(function(){return this}),this},this.refresh()},check:function(a){return"undefined"==typeof a&&(a=-1),clearTimeout(this._timer),0>a?this._check():this._timer=setTimeout(function(){this._check(),this._timer=null}.bind(this),a),this},_reviseElements:function(b,c){return this._reviseElements=this._supportElementsByClassName?function(){return!0}:function(b,c){return a(b).hasClass(this.options.targetClass)?!0:(b.__VISIBLE__=null,this._targets.splice(c,1),!1)},this._reviseElements(b,c)},_check:function(){var a=parseInt(this.options.expandSize,10),b=this._wrapper,c=[],d=[],e=null;e=b.nodeType&&1===b.nodeType?b.getBoundingClientRect():{top:0,left:0,bottom:window.innerHeight,right:window.innerWidth},e.top-=a,e.left-=a,e.bottom+=a,e.right+=a;for(var f,g,h,i,j=this._targets.length-1;f=this._targets[j];j--)g=f.getBoundingClientRect(),this._reviseElements(f,j)&&(i=!!f.__VISIBLE__,f.__VISIBLE__=h=!(g.bottom<e.top||e.bottom<g.top||g.right<e.left||e.right<g.left),i!==h&&(h?c:d).unshift(f));this.trigger("change",{visible:c,invisible:d})},destroy:function(){this.off(),this._targets=[],this._wrapper=this._timer=null}})});